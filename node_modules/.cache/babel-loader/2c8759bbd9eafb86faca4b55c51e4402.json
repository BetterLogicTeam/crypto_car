{"ast":null,"code":"var _jsxFileName = \"E:\\\\Git\\\\crypto_car\\\\src\\\\components\\\\Mint\\\\SecondMinnt.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './Secondmint.css';\nimport Web3 from 'web3';\nimport { toast } from 'react-toastify';\nimport { contractAddress, contractAbi } from \"../Utils/Constants\";\nimport { loadAccountAddress } from '../Api/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst webSupply = new Web3('https://rinkeby-light.eth.linkpool.io/');\n\nfunction SecondMinnt() {\n  _s();\n\n  let [count, setCount] = useState(1);\n  let [supply, setSupply] = useState();\n  let priceMint = 150000000000000000;\n\n  const minus = () => {\n    if (count >= 2) {\n      setCount(count - 1);\n    }\n  };\n\n  const plus = () => {\n    setCount(count + 1);\n  };\n\n  const mint = async () => {\n    try {\n      const web3 = window.web3;\n      let myacc = await loadAccountAddress();\n      let finalPrice = parseInt(finalPrice) * parseInt(count);\n      console.log(\"FNL = \", finalPrice); //  =parseInt(count);\n\n      let contractOf = new web3.eth.Contract(contractAbi, contractAddress);\n      await contractOf.methods.whitelistMint(count).send({\n        from: myacc,\n        value: priceMint * count\n      });\n      toast.success(\"Minting Successed ðŸ‘\");\n    } catch (e) {\n      toast.error(\"Minting Rejected ðŸ‘Ž\");\n    }\n  };\n\n  const getSupply = async () => {\n    try {\n      // let web3= window.web3;\n      let contract = new webSupply.eth.Contract(contractAbi, contractAddress);\n      let sply = await contract.methods.totalSupply().call();\n      setSupply(sply);\n    } catch (e) {\n      console.log(\"error while supply\", e);\n    }\n  };\n\n  setInterval(() => {\n    getSupply();\n  }, 1000);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainMintdiv\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"innerMintdiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"Firstdivheading\",\n          children: \"Pre - Sale is live\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 76\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"ConnectDiv\",\n          children: [supply, \"/1000\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ConnectdivPP\",\n          children: \"Click mint to mint your NFT.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"afterconnecttext fs-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: minus,\n            className: \"btn btn-sm smbtnplus\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-minus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 78\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), count, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: plus,\n            className: \"btn btn-sm smbtnplus\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 77\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btnconnecthere\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => mint(),\n            className: \"btn btn-sm Connectbtn mt-3\",\n            children: \"Mint\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"Salepricetext\",\n          children: \" Pre - Sale Price : 0.15 ETH (+ Gas fee)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SecondMinnt, \"+MamEIy12jdzTTZJkxT+mGfyH9c=\");\n\n_c = SecondMinnt;\nexport default SecondMinnt;\n\nvar _c;\n\n$RefreshReg$(_c, \"SecondMinnt\");","map":{"version":3,"names":["React","useState","Web3","toast","contractAddress","contractAbi","loadAccountAddress","webSupply","SecondMinnt","count","setCount","supply","setSupply","priceMint","minus","plus","mint","web3","window","myacc","finalPrice","parseInt","console","log","contractOf","eth","Contract","methods","whitelistMint","send","from","value","success","e","error","getSupply","contract","sply","totalSupply","call","setInterval"],"sources":["E:/Git/crypto_car/src/components/Mint/SecondMinnt.jsx"],"sourcesContent":["import React,{useState} from 'react';\nimport './Secondmint.css';\nimport Web3 from 'web3';\nimport { toast } from 'react-toastify';\n\nimport {contractAddress,contractAbi} from \"../Utils/Constants\";\nimport { loadAccountAddress } from '../Api/Api';\nconst webSupply = new Web3('https://rinkeby-light.eth.linkpool.io/');\n\nfunction SecondMinnt() {\nlet [count, setCount]=useState(1);\nlet [supply, setSupply]=useState();\nlet priceMint =150000000000000000\n   \n  const minus=()=>{\n      if (count>=2){\n    setCount(count-1)\n    \n      }\n  }\n  const plus=()=>{\n      setCount(count+1)\n      \n}\nconst mint = async() =>{\n    try{\n    const web3 = window.web3;\n    let myacc=await loadAccountAddress();\n    let finalPrice= parseInt(finalPrice)*parseInt(count);\n    \n    console.log(\"FNL = \",finalPrice);\n    \n    //  =parseInt(count);\n    let contractOf = new web3.eth.Contract(contractAbi, contractAddress);\n    await contractOf.methods.whitelistMint(count).send({\n        from: myacc,\n        value: priceMint*count\n    })\n    toast.success(\"Minting Successed ðŸ‘\")\n}catch(e){\n    toast.error(\"Minting Rejected ðŸ‘Ž\")\n}\n}\n\nconst getSupply=async()=>{\n    try{\n        // let web3= window.web3;\n        let contract = new webSupply.eth.Contract(contractAbi, contractAddress);\n        let sply = await contract.methods.totalSupply().call(); \n        setSupply(sply)\n    }catch(e){\n        console.log(\"error while supply\", e);\n    }\n}\nsetInterval(() => {\n    getSupply()\n}, 1000);\n    return (\n        <div>\n        <div className=\"mainMintdiv\">\n                <div className=\"innerMintdiv\"><br /><br />\n                    <h3 className=\"Firstdivheading\">Pre - Sale is live</h3><br />\n                    <h1 className='ConnectDiv'>{supply}/1000</h1>\n                    <p className='ConnectdivPP'>Click mint to mint your NFT.</p>\n                    <div className=\"afterconnecttext fs-4\">\n                    <button onClick={minus} className='btn btn-sm smbtnplus'><i class=\"far fa-minus\"></i></button>\n                    \n                  {count}\n\n                    <button onClick={plus} className='btn btn-sm smbtnplus'><i class=\"far fa-plus\"></i></button>\n                    \n                    </div>\n                    <div className=\"btnconnecthere\">\n\n                        <button \n                        onClick={()=>mint()}\n                        className='btn btn-sm Connectbtn mt-3'>Mint</button>\n                    </div>\n                  \n                   <p className=\"Salepricetext\"> Pre - Sale Price : 0.15 ETH (+ Gas fee)</p>\n\n\n                </div>\n            </div>\n\n            \n        </div>\n    )\n}\n\nexport default SecondMinnt\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}