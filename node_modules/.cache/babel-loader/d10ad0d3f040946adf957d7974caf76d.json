{"ast":null,"code":"var _jsxFileName = \"E:\\\\Git\\\\crypto_car\\\\src\\\\components\\\\Mint\\\\PublicMint.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { contractAddress, contractAbi } from \"../Utils/Constants\";\nimport { loadAccountAddress } from '../Api/Api';\nimport './Minnt.css';\nimport { toast } from 'react-toastify';\nimport Web3 from 'web3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst webSupply = new Web3('https://rinkeby-light.eth.linkpool.io/');\n\nfunction PublicMint() {\n  _s();\n\n  //\n  let [count, setCount] = useState(1);\n  let [supply, setSupply] = useState();\n  let priceMint = 200000000000000000;\n\n  const minus = () => {\n    if (count >= 2) {\n      setCount(count - 1);\n    }\n  };\n\n  const plus = () => {\n    setCount(count + 1);\n  };\n\n  const mint = async () => {\n    try {\n      const web3 = window.web3;\n      let myacc = await loadAccountAddress();\n      let contractOf = new web3.eth.Contract(contractAbi, contractAddress);\n      await contractOf.methods.publicMint(count).send({\n        from: myacc,\n        value: priceMint * count\n      });\n      toast.success(\"Minting Successed 👍\");\n    } catch (e) {\n      toast.error(\"Minting Rejected 👎\");\n    }\n  };\n\n  const getSupply = async () => {\n    try {\n      // let web3= window.web3;\n      let contract = new webSupply.eth.Contract(contractAbi, contractAddress);\n      let sply = await contract.methods.totalSupply().call();\n      setSupply(sply);\n    } catch (e) {\n      console.log(\"error while supply\", e);\n    }\n  };\n\n  setInterval(() => {\n    getSupply();\n  }, 1000); //\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainMintdiv\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"innerMintdiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"Firstdivheading\",\n          children: \"Public Sale is live\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 77\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"ConnectDiv\",\n          children: [supply, \"/10,000\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ConnectdivPP\",\n          children: \"Click mint to mint your NFT.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"afterconnecttext fs-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: minus,\n            className: \"btn btn-sm smbtnplus\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-minus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 78\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), count, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: plus,\n            className: \"btn btn-sm smbtnplus\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 77\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btnconnecthere\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: mint,\n            className: \"btn btn-sm Connectbtn mt-3\",\n            children: \"MINT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"afterconnecttext\",\n          children: \"Public Sale Price : 0.2 ETH (+ Gas fee)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"afterconnecttext fs-5\",\n          children: \"Each transaction will be limited to 10 NFTs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PublicMint, \"+MamEIy12jdzTTZJkxT+mGfyH9c=\");\n\n_c = PublicMint;\nexport default PublicMint;\n\nvar _c;\n\n$RefreshReg$(_c, \"PublicMint\");","map":{"version":3,"names":["React","useState","contractAddress","contractAbi","loadAccountAddress","toast","Web3","webSupply","PublicMint","count","setCount","supply","setSupply","priceMint","minus","plus","mint","web3","window","myacc","contractOf","eth","Contract","methods","publicMint","send","from","value","success","e","error","getSupply","contract","sply","totalSupply","call","console","log","setInterval"],"sources":["E:/Git/crypto_car/src/components/Mint/PublicMint.jsx"],"sourcesContent":["\nimport React,{useState} from 'react';\nimport {contractAddress,contractAbi} from \"../Utils/Constants\";\nimport { loadAccountAddress } from '../Api/Api';\nimport './Minnt.css'\nimport { toast } from 'react-toastify';\n\nimport Web3 from 'web3';\nconst webSupply = new Web3('https://rinkeby-light.eth.linkpool.io/');\n\nfunction PublicMint() {\n    \n//\nlet [count, setCount]=useState(1);\nlet [supply, setSupply]=useState();\nlet priceMint =200000000000000000\n   \n  const minus=()=>{\n      if (count>=2){\n    setCount(count-1)\n    \n      }\n  }\n  const plus=()=>{\n      setCount(count+1)\n      \n}\nconst mint = async() =>{\n    try{\n    const web3 = window.web3;\n    let myacc=await loadAccountAddress();\n    \n    let contractOf = new web3.eth.Contract(contractAbi, contractAddress);\n    await contractOf.methods.publicMint(count).send({\n        from: myacc,\n        value: priceMint*count\n    })\n    toast.success(\"Minting Successed 👍\")\n\n    }catch(e){\n        toast.error(\"Minting Rejected 👎\")\n\n    }\n}\nconst getSupply=async()=>{\n    try{\n        // let web3= window.web3;\n        let contract = new webSupply.eth.Contract(contractAbi, contractAddress);\n        let sply = await contract.methods.totalSupply().call(); \n        setSupply(sply)\n    }catch(e){\n        console.log(\"error while supply\", e);\n    }\n}\nsetInterval(() => {\n    getSupply()\n}, 1000);\n\n//\n    return (\n        <div>\n\n            <div className=\"mainMintdiv\">\n                <div className=\"innerMintdiv\"><br /><br />\n                    <h3 className=\"Firstdivheading\">Public Sale is live</h3><br />\n                    <h1 className='ConnectDiv'>{supply}/10,000</h1>\n                    <p className='ConnectdivPP'>Click mint to mint your NFT.</p>\n                    <div className=\"afterconnecttext fs-4\">\n                    <button onClick={minus} className='btn btn-sm smbtnplus'><i class=\"far fa-minus\"></i></button>\n                    \n                  {count}\n\n                    <button onClick={plus} className='btn btn-sm smbtnplus'><i class=\"far fa-plus\"></i></button>\n                    \n                    </div>\n                    <div className=\"btnconnecthere\">\n\n                        <button\n                        onClick={mint}\n                        className='btn btn-sm Connectbtn mt-3'>MINT</button>\n                    </div>\n\n                    <div className=\"afterconnecttext\">Public Sale Price : 0.2 ETH (+ Gas fee)</div>\n                    <div className=\"afterconnecttext fs-5\">Each transaction will be limited to 10 NFTs</div>\n\n                  \n\n\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default PublicMint\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}